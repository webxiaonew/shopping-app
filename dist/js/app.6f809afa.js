(function(t){function e(e){for(var n,a,c=e[0],r=e[1],u=e[2],d=0,h=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&h.push(s[a][0]),s[a]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);l&&l(e);while(h.length)h.shift()();return o.push.apply(o,u||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],n=!0,c=1;c<i.length;c++){var r=i[c];0!==s[r]&&(n=!1)}n&&(o.splice(e--,1),t=a(a.s=i[0]))}return t}var n={},s={app:0},o=[];function a(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=n,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=r;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},1295:function(t,e,i){},"21c1":function(t,e,i){"use strict";i("37e7")},2395:function(t,e,i){},"32c8":function(t,e,i){},"37e7":function(t,e,i){},4900:function(t,e,i){"use strict";i("a989")},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),s=i("b970"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("transition",{attrs:{name:t.transitionName,mode:this.$router.back?"out-in":"in-out"}},[i("router-view",{staticClass:"view"})],1)],1)},a=[],c=(i("b0c0"),{created:function(){var t=JSON.parse(localStorage.getItem("goods"))||{};this.$store.commit("setCounterMap",t)},data:function(){return{transitionName:"left"}},watch:{$route:function(t,e){"Classify"===t.name&&"Search"===e.name&&(this.$router.back=!0),this.$router.back?this.transitionName="right":this.transitionName="left",this.$router.back=!1}}}),r=c,u=(i("7c55"),i("2877")),l=Object(u["a"])(r,o,a,!1,null,null,null),d=l.exports,h=i("8c4f"),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("router-view"),i("tab-bar")],1)},g=[],f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("van-tabbar",{attrs:{route:"",fixed:""}},[i("van-tabbar-item",{attrs:{icon:"home-o",to:"/"}},[t._v("首页")]),i("van-tabbar-item",{attrs:{icon:"apps-o",to:"/home/classify"}},[t._v("列表")]),i("van-tabbar-item",{attrs:{icon:"cart-o",to:"/home/shopping",badge:t.badge,id:"shop-car"}},[t._v(" 购物车 ")]),i("van-tabbar-item",{attrs:{icon:"user-circle-o",to:"/my"}},[t._v("我的")])],1)},m=[],b=(i("13d5"),i("07ac"),i("5530")),v=i("2f62"),y={computed:Object(b["a"])(Object(b["a"])({},Object(v["d"])({counterMap:function(t){return t.counterMap}})),{},{badge:function(){var t=Object.values(this.counterMap).reduce((function(t,e){return t+e}),0);return t>99?"99+":t}})},L=y,j=Object(u["a"])(L,f,m,!1,null,null,null),k=j.exports,O={components:{TabBar:k}},w=O,_=Object(u["a"])(w,p,g,!1,null,null,null),x=_.exports,C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"classify-wrapper"},[i("router-link",{staticClass:"search-btn",attrs:{tag:"div",to:"/search"}},[i("van-icon",{attrs:{name:"search"}}),t._v(" 桔子特价1元1斤 ")],1),i("one-tab"),t.showContent?[i("side-bar"),i("goods-list")]:i("van-loading",{attrs:{size:"2rem",vertical:""}})],2)},R=[],S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"oneTab",staticClass:"one-tab-wrapper"},t._l(t.menuList,(function(e,n){return i("div",{key:e.id,staticClass:"tab-item",class:{active:t.index===n},on:{touchend:function(e){return t.scrollTo(n,e)},touchstart:function(e){t.move=!1},touchmove:function(e){t.move=!0}}},[i("div",{staticClass:"img-wrapper"},[i("img",{attrs:{src:e.imgURL}})]),i("div",{staticClass:"tab-title"},[t._v(t._s(e.title))])])})),0)},M=[];function T(t,e,i,n){var s=0,o=5;e<0&&(o*=-1);var a=setInterval((function(){s+=o,i[n]=t+s,Math.abs(s)>Math.abs(e)&&(i[n]=t+e,clearInterval(a))}),2)}var G={moveTo:T},$={data:function(){return{move:!1,index:0,menuList:[{title:"时令水果",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/时令水果.jpg"},{title:"酒水冲调",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/酒水冲调.jpg"},{title:"安心乳品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/安心乳品.jpg"},{title:"休闲零食",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/休闲零食.jpg"},{title:"肉蛋食材",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/肉蛋食材.jpg"},{title:"新鲜蔬菜",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/新鲜食材.jpg"},{title:"熟食餐饮",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/熟食餐饮.jpg"},{title:"海鲜水产",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/海鲜水产.jpg"},{title:"粮油调味",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/粮油调味.jpg"},{title:"某手美食",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/某手美食.jpg"},{title:"纸杯清洁",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/纸品清洁.jpg"},{title:"个人护理",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/个人护理.jpg"},{title:"美妆护肤",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/美妆护肤.jpg"},{title:"家居收纳",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/家居收纳.jpg"},{title:"家用电器",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/家用电器.jpg"},{title:"3C数码",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/3C数码.jpg"},{title:"母婴用品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/母婴用品.jpg"},{title:"鲜花绿植",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/鲜花绿植.jpg"},{title:"宠物用品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/宠物用品.jpg"},{title:"图书玩具",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/图书文具.jpg"},{title:"手表配饰",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/手表配饰.jpg"}]}},methods:Object(b["a"])(Object(b["a"])({},Object(v["b"])(["getSideList"])),{},{scrollTo:function(t,e){if(!this.move){this.index=t;var i=this.$refs.oneTab,n=e.target.offsetWidth,s=e.target.getBoundingClientRect().left,o=i.offsetWidth;G.moveTo(i.scrollLeft,n/2+s-o/2,i,"scrollLeft"),this.getSideList(this.menuList[t].title)}}}),mounted:function(){this.getSideList(this.menuList[0].title)}},U=$,E=(i("9da9"),Object(u["a"])(U,S,M,!1,null,"277e75a0",null)),B=E.exports,I=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"side",staticClass:"sidebar-wrapper"},t._l(t.sideList,(function(e,n){return i("div",{key:e,class:{active:t.index===n},on:{touchend:function(e){return t.scrollTo(n,e)},touchstart:function(e){t.move=!1},touchmove:function(e){t.move=!0}}},[t._v(" "+t._s(0==n?"全部":e)+" ")])})),0)},N=[],z={data:function(){return{index:0,move:!1}},computed:Object(b["a"])({},Object(v["d"])({sideList:function(t){return t.sideList}})),methods:Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(v["c"])(["resetGoodsList"])),Object(v["b"])(["getGoodsList"])),{},{scrollTo:function(t,e){if(this.move)console.log(11111111);else{this.index=t;var i=this.$refs.side,n=e.target.getBoundingClientRect().top,s=e.target.offsetHeight,o=i.getBoundingClientRect().top,a=i.offsetHeight;G.moveTo(i.scrollTop,n+s/2-o-a/2,i,"scrollTop"),this.resetGoodsList(),this.getGoodsList({type:this.sideList[t],sortType:"all",page:1})}}})},H=z,P=(i("c923"),Object(u["a"])(H,I,N,!1,null,"39e747b6",null)),X=P.exports,Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list-wrapper"},[i("div",{staticClass:"list-header van-hairline--top-bottom"},[i("div",{class:{active:"all"==t.type},on:{click:function(e){return t.changeType("all")}}},[t._v("综合")]),i("div",{class:{active:"sale"==t.type},on:{click:function(e){return t.changeType("sale")}}},[t._v("销量")]),i("div",{staticClass:"price",class:{"price-up":"price-up"==t.type,"price-down":"price-down"==t.type},on:{click:function(e){return t.changeType("price")}}},[t._v(" 价格 ")])]),i("div",{staticClass:"list-content"},[i("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[i("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.goodsList,(function(e){return i("goods-card",t._b({key:e.id,attrs:{num:t.counterMap[e.id]}},"goods-card",e,!1))})),1)],1)],1)])},A=[],J=(i("96cf"),i("1da1")),D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card-wrapper van-hairline--bottom"},[i("div",{staticClass:"card-img"},[i("img",{ref:"img",attrs:{src:t.images[0]}})]),i("div",{staticClass:"card-content"},[i("div",{staticClass:"title overflow-hidden"},[t._v(t._s(t.title))]),i("div",{staticClass:"desc overflow-hidden"},[t._v(t._s(t.desc))]),i("div",{staticClass:"tags"},t._l(t.tags,(function(e){return i("div",{key:e},[t._v(t._s(e))])})),0),i("div",{staticClass:"prices"},[t._v("￥"+t._s(t.price))]),i("div",{staticClass:"counter"},[t.num?i("div",{on:{touchend:function(e){return t.counter(t.id,-1)}}},[i("img",{attrs:{src:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/rec.png"}})]):t._e(),t.num?i("div",{staticClass:"num"},[t._v(t._s(t.num))]):t._e(),i("div",{on:{touchend:function(e){return t.counter(t.id,1)}}},[i("img",{attrs:{src:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/add.png"}})])])])])},W=[],V=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.exist?i("div",{staticClass:"item",style:{width:t.width+"px",height:t.height+"px",opacity:t.opacity,transform:"translate("+t.moveX+"px, "+t.moveY+"px) scale("+t.sx+", "+t.sy+")"}},[i("img",{attrs:{src:t.src}})]):t._e()},q=[],F=(i("6829"),{}),K=Object(u["a"])(F,V,q,!1,null,"b733d2b0",null),Q=K.exports,Z=n["a"].extend(Q),tt=function(t){var e=t.startX,i=t.startY,n=t.endX,s=t.endY,o=t.src,a=t.width,c=t.height,r=new Z({el:document.createElement("div"),data:function(){return{moveX:e,moveY:i,sx:1,sy:1,opacity:1,exist:!0,src:o,width:a,height:c}}});document.body.appendChild(r.$el),setTimeout((function(){r.moveX=n,r.moveY=s,r.sx=.1,r.sy=.1,r.opacity=0}),0),setTimeout((function(){r.exist=!1}),1e3)},et={props:["images","tags","title","desc","price","id","num","nofly"],methods:Object(b["a"])(Object(b["a"])({},Object(v["c"])(["storeChange"])),{},{counter:function(t,e){if(this.storeChange({id:t,value:e}),-1!==e&&!this.nofly){var i=this.$refs.img.getBoundingClientRect(),n=i.top,s=i.left,o=this.$refs.img,a=o.offsetWidth,c=o.offsetHeight,r=document.getElementById("shop-car"),u=r.getBoundingClientRect(),l=u.left,d=u.top,h=r.offsetWidth,p=r.offsetHeight,g=l+h/2,f=d+p/2;tt({startX:s,startY:n,endX:g,endY:f,src:this.$refs.img.src,width:a,height:c})}}})},it=et,nt=(i("4900"),Object(u["a"])(it,D,W,!1,null,"c869e5d4",null)),st=nt.exports,ot={data:function(){return{type:"all",isLoading:!1,loading:!1,finished:!1,page:1}},components:{goodsCard:st},computed:Object(b["a"])({},Object(v["d"])({goodsList:function(t){return t.goodsList},counterMap:function(t){return t.counterMap}})),methods:Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(v["c"])(["resetGoodsList"])),Object(v["b"])(["getGoodsList"])),{},{onRefresh:function(){this.loading=!1,this.finished=!1,this.isLoading=!0,this.page=1,this.resetGoodsList(),this.getGoodsList({page:1,sortType:this.type}),this.isLoading=!1},onLoad:function(){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.page+=1,t.loading=!0,e.next=4,t.getGoodsList({page:t.page,sortType:t.type});case 4:i=e.sent,i?t.loading=!1:t.finished=!0;case 6:case"end":return e.stop()}}),e)})))()},changeType:function(t){"all"===t?this.type="all":"sale"===t?this.type="sale":"price-up"===this.type?this.type="price-down":"price-down"===this.type&&(this.type="price-up"),this.onRefresh()}})},at=ot,ct=(i("a4e1"),Object(u["a"])(at,Y,A,!1,null,"15383407",null)),rt=ct.exports,ut={computed:Object(b["a"])({},Object(v["d"])({showContent:function(t){return t.showContent},sideList:function(t){return t.sideList}})),methods:Object(b["a"])(Object(b["a"])({},Object(v["c"])(["resetGoodsList"])),Object(v["b"])(["getGoodsList"])),components:{OneTab:B,SideBar:X,GoodsList:rt},watch:{showContent:function(){this.showContent&&(this.resetGoodsList(),this.getGoodsList({type:this.sideList[0],page:1,sortType:"all"}))}}},lt=ut,dt=(i("77b8"),Object(u["a"])(lt,C,R,!1,null,"38aa5b04",null)),ht=dt.exports,pt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"shopping"},[i("div",{staticClass:"top-nav"},[i("van-nav-bar",{attrs:{title:"购物车","right-text":"删除"},on:{"click-right":t.del}})],1),i("div",{staticClass:"card-list"},[i("van-checkbox-group",{ref:"checkboxGroup",model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},t._l(t.list,(function(e){return i("div",{key:e.id,staticClass:"card-box"},[i("van-checkbox",{staticClass:"check",attrs:{name:e.id}}),i("goods-card",t._b({attrs:{num:t.counterMap[e.id],nofly:!0}},"goods-card",e,!1))],1)})),0)],1),i("van-submit-bar",{attrs:{price:t.allMoney,"button-text":"去结算("+t.tatolNum+")"},on:{submit:t.onSubmit}},[i("van-checkbox",{on:{click:t.checkAll},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("全选")])],1)],1)},gt=[],ft=(i("4de4"),i("4160"),i("caad"),i("a15b"),i("b64b"),i("2532"),i("159b"),i("d399")),mt=i("2241"),bt={components:{GoodsCard:st},data:function(){return{result:[],list:[],checked:!1}},computed:Object(b["a"])(Object(b["a"])({},Object(v["d"])({counterMap:function(t){return t.counterMap}})),{},{tatolNum:function(){var t=this,e=this.list.filter((function(e){return t.result.includes(e.id)})),i=e.reduce((function(e,i){return e+(t.counterMap[i.id]||0)}),0);return i},allMoney:function(){var t=this,e=this.list.filter((function(e){return t.result.includes(e.id)}));return e.reduce((function(e,i){var n=t.counterMap[i.id]||0;return Math.round(n*i.price*100)+e}),0)}}),watch:{result:function(){this.result.length===this.list.length?this.checked=!0:this.checked=!1}},methods:Object(b["a"])(Object(b["a"])({},Object(v["c"])(["storeChange"])),{},{getAllData:function(){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function e(){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=Object.keys(t.counterMap),e.next=3,t.$api.getGoodsByIds(i.join());case 3:n=e.sent,t.list=n.list;case 5:case"end":return e.stop()}}),e)})))()},del:function(){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.result.length){e.next=3;break}return Object(ft["a"])("未选中商品"),e.abrupt("return");case 3:return e.prev=3,e.next=6,mt["a"].confirm({message:"是否删除选中商品"});case 6:t.result.forEach((function(e){t.storeChange({id:e,value:-1/0}),t.list=t.list.filter((function(e){return!t.result.includes(e.id)})),0===t.list.length&&Object(ft["a"])("购物车啥也没有")})),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](3),Object(ft["a"])("已取消");case 12:case"end":return e.stop()}}),e,null,[[3,9]])})))()},checkAll:function(){this.checked?this.$refs.checkboxGroup.toggleAll(!0):this.$refs.checkboxGroup.toggleAll(!1)},onSubmit:function(){this.tatolNum<1?Object(ft["a"])("未选中"):Object(ft["a"])("点击了结算")}}),created:function(){this.getAllData()}},vt=bt,yt=(i("6a84"),Object(u["a"])(vt,pt,gt,!1,null,"4aced9a7",null)),Lt=yt.exports,jt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search-wrapper"},[i("div",{staticClass:"search-header"},[i("van-icon",{staticClass:"arr-left",attrs:{name:"arrow-left"},on:{click:function(e){return t.$router.goBack()}}}),i("van-search",{staticClass:"search-content",attrs:{"show-action":"",placeholder:t.plece},on:{search:t.onSearch,input:t.input,focus:t.focus},scopedSlots:t._u([t.showList?{key:"action",fn:function(){return[i("div",{on:{touchend:function(e){return t.onSearch(t.value)}}},[t._v("搜索")])]},proxy:!0}:{key:"action",fn:function(){return[i("van-icon",{staticClass:"shop-car",attrs:{name:"cart-o",id:"shop-car",badge:t.badge},on:{click:function(e){return t.$router.push("/home/shopping")}}})]},proxy:!0}],null,!0),model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t.likeList.length<=0&&t.showList?i("div",{staticClass:"like-search"},[i("van-list",t._l(t.likeList,(function(e){return i("van-cell",{key:e,on:{click:function(i){return t.onSearch(e)}}},[[i("span",{staticClass:"custom-title",domProps:{innerHTML:t._s(t.formatHTML(e))}})]],2)})),1)],1):t._e(),t.showList?t._e():i("div",{staticClass:"goods-list"},[i("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.goodsList,(function(e,n){return i("goods-card",t._b({key:n,attrs:{num:t.counterMap[e.id]}},"goods-card",e,!1))})),1)],1),t.likeList.length<=0&&t.showList?i("div",{staticClass:"my-history"},[i("my-history",{attrs:{searchList:t.searchList},on:{search:t.onSearch}})],1):t._e()])},kt=[],Ot=(i("99af"),i("7db0"),i("4d63"),i("ac1f"),i("25f0"),i("5319"),i("841c"),i("9767"),i("2909")),wt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"history"},[i("h4",[t._v("历史记录：")]),t._l(t.searchList,(function(e){return i("div",{key:e.time,staticClass:"his-item",on:{click:function(i){return t.search(e.value)}}},[t._v(" "+t._s(e.value)+" ")])}))],2)},_t=[],xt={props:{searchList:{default:function(){return[]}}},methods:{search:function(t){this.$emit("search",t)}}},Ct=xt,Rt=(i("21c1"),Object(u["a"])(Ct,wt,_t,!1,null,"551f614f",null)),St=Rt.exports,Mt={data:function(){return{plece:"酒",value:this.plece,likeList:[],timer:null,loading:!1,finished:!1,page:1,size:5,goodsList:[],showList:!0,total:0,searchList:[]}},components:{GoodsCard:st,MyHistory:St},computed:Object(b["a"])(Object(b["a"])({},Object(v["d"])({counterMap:function(t){return t.counterMap}})),{},{badge:function(){var t=Object.values(this.counterMap).reduce((function(t,e){return t+e}),0);return t>99?"99+":t}}),methods:{onLoad:function(){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.value),e.next=3,t.$api.search(t.value,t.page,t.size);case 3:i=e.sent,t.goodsList=[].concat(Object(Ot["a"])(t.goodsList),Object(Ot["a"])(i.list)),t.total=i.total,t.loading=!1,console.log(t.goodsList),t.goodsList.length>=t.total?t.finished=!0:t.page+=1;case 9:case"end":return e.stop()}}),e)})))()},onSearch:function(t){var e=this;this.value=t||this.plece;var i=this.searchList.find((function(t){return t.value===e.searchList.value}));i?(i.time=(new Date).getTime(),this.searchList.sort((function(t,e){return e.time-t.time}))):(this.searchList.unshift({value:this.value,time:(new Date).getTime()}),this.searchList.length>=11&&this.searchList.pop()),localStorage.setItem("searchList",JSON.stringify(this.searchList)),this.likeList=[],this.goodsList=[],this.page=1,this.finished=!1,this.loading=!1,this.onLoad(),this.showList=!1},input:function(){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==t.value){e.next=3;break}return t.likeList=[],e.abrupt("return");case 3:t.timer?(clearTimeout(t.timer),t.timer=null):t.timer=setTimeout(Object(J["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.likeSearch(t.value);case 2:i=e.sent,t.likeList=i.result,clearTimeout(t.timer),t.timer=null;case 6:case"end":return e.stop()}}),e)}))),300);case 4:case"end":return e.stop()}}),e)})))()},focus:function(){this.showList=!0},formatHTML:function(t){var e=new RegExp(this.value,"g");return t.replace(e,this.value.fontcolor("red"))}},created:function(){this.searchList=JSON.parse(localStorage.getItem("searchList"))||[]}},Tt=Mt,Gt=(i("5c4e"),Object(u["a"])(Tt,jt,kt,!1,null,"2607c528",null)),$t=Gt.exports;h["a"].prototype.back=!1,h["a"].prototype.goBack=function(){this.back=!0,this.go(-1)},n["a"].use(h["a"]);var Ut=[{path:"/home",component:x,children:[{path:"classify",name:"Classify",component:ht},{path:"shopping",name:"Shopping",component:Lt}]},{path:"/search",name:"Search",component:$t},{path:"*",redirect:"/home/classify"}],Et=new h["a"]({base:"",routes:Ut}),Bt=Et,It=i("bc3a"),Nt=i.n(It),zt={getSide:"/getsidebar",getGoodsList:"/getGoodsList",search:"/search",likeSearch:"/likeSearch",getGoodsByIds:"/getGoodsByIds"},Ht="https://mallapi.duyiedu.com/goods/",Pt=Ht,Xt="yangbashan_1608226030603",Yt=Nt.a.create({baseURL:Pt,params:{appkey:Xt}});Yt.interceptors.response.use((function(t){return t.data}));var At=function(t){return Yt.get(zt.getSide,{params:{type:t}})},Jt=function(t,e,i,n){return Yt.get(zt.getGoodsList,{params:{type:t,size:e,sort:i,page:n}})},Dt=function(t){return Yt.get(zt.likeSearch,{params:{likeValue:t}})},Wt=function(t,e,i){return Yt.get(zt.search,{params:{type:t,page:e,size:i}})},Vt=function(t){return Yt.get(zt.getGoodsByIds,{params:{value:t}})},qt={getSideList:At,getGoodsList:Jt,likeSearch:Dt,search:Wt,getGoodsByIds:Vt};n["a"].use(v["a"]);var Ft=new v["a"].Store({state:{sideList:[],showContent:!1,size:5,goodsList:[],type:null,counterMap:{}},mutations:{storeChange:function(t,e){var i=e.id,s=e.value;t.counterMap[i]?-1===s&&1===t.counterMap[i]||s===-1/0?n["a"].delete(t.counterMap,i):n["a"].set(t.counterMap,i,t.counterMap[i]+s):n["a"].set(t.counterMap,i,1),localStorage.setItem("goods",JSON.stringify(t.counterMap))},setCounterMap:function(t,e){t.counterMap=e},setSideList:function(t,e){t.sideList=e},setShowContent:function(t,e){t.showContent=e},setGoodsList:function(t,e){t.goodsList=[].concat(Object(Ot["a"])(t.goodsList),Object(Ot["a"])(e))},resetGoodsList:function(t){t.goodsList=[]},setGoodsType:function(t,e){t.type=e}},actions:{getSideList:function(t,e){return Object(J["a"])(regeneratorRuntime.mark((function i(){var n,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=t.commit,n("setShowContent",!1),i.next=4,qt.getSideList(e);case 4:s=i.sent,n("setSideList",s),n("setShowContent",!0);case 7:case"end":return i.stop()}}),i)})))()},getGoodsList:function(t,e){return Object(J["a"])(regeneratorRuntime.mark((function i(){var n,s,o,a,c,r,u,l,d;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=t.state,s=t.commit,o=e.sortType,a=e.page,c=e.type||n.type,r=e.size||n.size,s("setGoodsType",c),i.next=7,qt.getGoodsList(c,r,o,a);case 7:if(u=i.sent,l=u.list,d=u.total,s("setGoodsList",l),!(d>n.goodsList.length)){i.next=13;break}return i.abrupt("return",!0);case 13:return i.abrupt("return",!1);case 14:case"end":return i.stop()}}),i)})))()}},modules:{}});i("499a"),i("157a");n["a"].prototype.$api=qt,n["a"].use(s["a"]),n["a"].config.productionTip=!1,new n["a"]({router:Bt,store:Ft,render:function(t){return t(d)}}).$mount("#app")},"5c4e":function(t,e,i){"use strict";i("a894")},6829:function(t,e,i){"use strict";i("9cec")},"6a84":function(t,e,i){"use strict";i("32c8")},"77b8":function(t,e,i){"use strict";i("7cbf")},"784a":function(t,e,i){},"7c55":function(t,e,i){"use strict";i("2395")},"7cbf":function(t,e,i){},"9cec":function(t,e,i){},"9da9":function(t,e,i){"use strict";i("cd2b")},a4e1:function(t,e,i){"use strict";i("784a")},a894:function(t,e,i){},a989:function(t,e,i){},c923:function(t,e,i){"use strict";i("1295")},cd2b:function(t,e,i){}});
//# sourceMappingURL=app.6f809afa.js.map